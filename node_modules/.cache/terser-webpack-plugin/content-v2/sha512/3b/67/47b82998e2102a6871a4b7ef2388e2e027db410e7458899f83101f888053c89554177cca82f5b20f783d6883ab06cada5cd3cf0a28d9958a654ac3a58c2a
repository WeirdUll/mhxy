{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-45766d42\"],{\"133c\":function(t,e,i){\"use strict\";i(\"7c25\")},\"69c2\":function(t,e,i){\"use strict\";i(\"7988\")},7988:function(t,e,i){},\"7c25\":function(t,e,i){},9406:function(t,e,i){\"use strict\";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"dashboard-container\"},[i(t.currentRole,{tag:\"component\"})],1)},n=[],s=i(\"5530\"),c=(i(\"caad\"),i(\"2532\"),i(\"2f62\")),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"dashboard-editor-container\"},[i(\"div\",{staticClass:\"tab\"},[i(\"el-button\",{attrs:{type:\"primary\"},nativeOn:{click:function(e){return e.preventDefault(),t.bindDevice(e)}}},[t._v(\"绑定设备\")])],1),i(\"el-table\",{staticStyle:{width:\"100%\"},attrs:{data:t.tableData}},[i(\"el-table-column\",{attrs:{prop:\"deviceId\",label:\"设备号\"}}),i(\"el-table-column\",{attrs:{prop:\"deviceName\",label:\"设备名称\"}}),i(\"el-table-column\",{attrs:{prop:\"taskTips\",label:\"状态\"}}),i(\"el-table-column\",{attrs:{prop:\"lastChannelTime\",label:\"时间\"}}),i(\"el-table-column\",{attrs:{prop:\"ip\",label:\"IP\"}}),i(\"el-table-column\",{attrs:{prop:\"nickName\",label:\"别名\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[i(\"div\",{staticClass:\"nickName\"},[t.isEditNickName&&e.row.deviceId==t.deviceId?t._e():i(\"div\",{staticClass:\"test\"},[t._v(\" \"+t._s(e.row.nickName)+\" \")]),t.isEditNickName&&e.row.deviceId==t.deviceId?i(\"div\",{staticClass:\"input-nickName\"},[i(\"el-input\",{attrs:{placeholder:\"请输入内容\"},on:{blur:function(i){return t.renewNickName(e.row.id)}},model:{value:t.input,callback:function(e){t.input=e},expression:\"input\"}})],1):t._e(),i(\"div\",{staticClass:\"nickName-button\"},[i(\"i\",{staticClass:\"el-icon-edit\",on:{click:function(i){return t.modifyNickName(e.row.nickName,e.row.deviceId)}}})])])]}}])}),i(\"el-table-column\",{attrs:{prop:\"address\",label:\"总数(已完成)\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[t._v(\" \"+t._s(e.row.accountSize)+\"(\"+t._s(e.row.todayFinishSize)+\") \")]}}])}),i(\"el-table-column\",{attrs:{label:\"操作\"},scopedSlots:t._u([{key:\"default\",fn:function(e){return[i(\"el-button\",{attrs:{type:\"text\",size:\"small\"},nativeOn:{click:function(i){return i.preventDefault(),t.editingRemoteFiles(e.row.id,e.row.deviceId)}}},[t._v(\" 编辑远程文件 \")])]}}])})],1),i(\"el-dialog\",{attrs:{title:\"绑定设备\",visible:t.dialogVisible,width:\"30%\",\"before-close\":t.handleClose},on:{\"update:visible\":function(e){t.dialogVisible=e}}},[i(\"el-input\",{attrs:{placeholder:\"请输入设备脚本端提供的code码\"},model:{value:t.deviceNum,callback:function(e){t.deviceNum=e},expression:\"deviceNum\"}}),i(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[i(\"el-button\",{attrs:{type:\"primary\"},on:{click:t.bondedDevices}},[t._v(\"确 定\")])],1)],1)],1)},r=[],l=i(\"aa98\"),d={name:\"DashboardAdmin\",components:{},data:function(){return{tableData:[],dialogVisible:!1,deviceNum:\"\",input:\"\",isEditNickName:!1,deviceId:\"\"}},watch:{dialogVisible:{handler:function(t,e){t||(this.deviceNum=\"\")}}},mounted:function(){this.deviceList()},methods:{bondedDevices:function(){var t=this;Object(l[\"a\"])({deviceCode:this.deviceNum}).then((function(e){t.dialogVisible=!1,t.$message({message:\"绑定成功\",type:\"success\"}),t.deviceList()}))},editingRemoteFiles:function(t,e){console.log(t),this.$router.push({path:\"/dashboard/remote-files\",query:{data:t,deviceId:e}})},deviceList:function(){var t=this;Object(l[\"c\"])().then((function(e){t.tableData=e.data}))},bindDevice:function(){this.dialogVisible=!0},handleClose:function(t){this.dialogVisible=!1},modifyNickName:function(t,e){this.isEditNickName=!0,this.deviceId=e,this.input=t},renewNickName:function(t){var e=this;Object(l[\"e\"])({deviceId:t,nickName:this.input}).then((function(t){e.isEditNickName=!1,e.deviceList()}))}}},u=d,f=(i(\"ef42\"),i(\"2877\")),p=Object(f[\"a\"])(u,o,r,!1,null,\"7d0f7d91\",null),m=p.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"dashboard-editor-container\"},[i(\"div\",{staticClass:\" clearfix\"},[i(\"pan-thumb\",{staticStyle:{float:\"left\"},attrs:{image:t.avatar}},[t._v(\" Your roles: \"),t._l(t.roles,(function(e){return i(\"span\",{key:e,staticClass:\"pan-info-roles\"},[t._v(t._s(e))])}))],2),i(\"github-corner\",{staticStyle:{position:\"absolute\",top:\"0px\",border:\"0\",right:\"0\"}}),i(\"div\",{staticClass:\"info-container\"},[i(\"span\",{staticClass:\"display_name\"},[t._v(t._s(t.name))]),i(\"span\",{staticStyle:{\"font-size\":\"20px\",\"padding-top\":\"20px\",display:\"inline-block\"}},[t._v(\"Editor's Dashboard\")])])],1),i(\"div\",[i(\"img\",{staticClass:\"emptyGif\",attrs:{src:t.emptyGif}})])])},h=[],v=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"div\",{staticClass:\"pan-item\",style:{zIndex:t.zIndex,height:t.height,width:t.width}},[i(\"div\",{staticClass:\"pan-info\"},[i(\"div\",{staticClass:\"pan-info-roles-container\"},[t._t(\"default\")],2)]),i(\"div\",{staticClass:\"pan-thumb\",style:{backgroundImage:\"url(\"+t.image+\")\"}})])},C=[],y=(i(\"a9e3\"),{name:\"PanThumb\",props:{image:{type:String,required:!0},zIndex:{type:Number,default:1},width:{type:String,default:\"150px\"},height:{type:String,default:\"150px\"}}}),g=y,N=(i(\"133c\"),Object(f[\"a\"])(g,v,C,!1,null,\"799537af\",null)),k=N.exports,_=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"a\",{staticClass:\"github-corner\",attrs:{href:\"https://github.com/PanJiaChen/vue-element-admin\",target:\"_blank\",\"aria-label\":\"View source on Github\"}},[i(\"svg\",{staticStyle:{fill:\"#40c9c6\",color:\"#fff\"},attrs:{width:\"80\",height:\"80\",viewBox:\"0 0 250 250\",\"aria-hidden\":\"true\"}},[i(\"path\",{attrs:{d:\"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z\"}}),i(\"path\",{staticClass:\"octo-arm\",staticStyle:{\"transform-origin\":\"130px 106px\"},attrs:{d:\"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2\",fill:\"currentColor\"}}),i(\"path\",{staticClass:\"octo-body\",attrs:{d:\"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z\",fill:\"currentColor\"}})])])},w=[],x=(i(\"96f2\"),{}),D=Object(f[\"a\"])(x,_,w,!1,null,\"09fe1acc\",null),O=D.exports,j={name:\"DashboardEditor\",components:{PanThumb:k,GithubCorner:O},data:function(){return{emptyGif:\"https://wpimg.wallstcn.com/0e03b7da-db9e-4819-ba10-9016ddfdaed3\"}},computed:Object(s[\"a\"])({},Object(c[\"b\"])([\"name\",\"avatar\",\"roles\"]))},I=j,S=(i(\"69c2\"),Object(f[\"a\"])(I,b,h,!1,null,\"e3426062\",null)),L=S.exports,E={name:\"Dashboard\",components:{adminDashboard:m,editorDashboard:L},data:function(){return{currentRole:\"adminDashboard\"}},computed:Object(s[\"a\"])({},Object(c[\"b\"])([\"roles\"])),created:function(){this.roles.includes(\"admin\")||(this.currentRole=\"editorDashboard\")}},V=E,z=Object(f[\"a\"])(V,a,n,!1,null,null,null);e[\"default\"]=z.exports},\"96f2\":function(t,e,i){\"use strict\";i(\"f77f\")},aa98:function(t,e,i){\"use strict\";i.d(e,\"c\",(function(){return n})),i.d(e,\"e\",(function(){return s})),i.d(e,\"b\",(function(){return c})),i.d(e,\"d\",(function(){return o})),i.d(e,\"a\",(function(){return r}));var a=i(\"b775\");function n(t){return Object(a[\"a\"])({url:\"/canoon/mhxysy/device/list\",method:\"get\",params:t})}function s(t){return Object(a[\"a\"])({url:\"/canoon/mhxysy/device/updateDeviceNickName\",method:\"post\",data:t})}function c(t){return Object(a[\"a\"])({url:\"/canoon/mhxysy/device/getDeviceAccountList\",method:\"get\",params:t})}function o(t){return Object(a[\"a\"])({url:\"/canoon/mhxysy/device/updateDeviceAccountList\",method:\"post\",data:t})}function r(t){return Object(a[\"a\"])({url:\"/canoon/mhxysy/device/bind\",method:\"post\",data:t})}},ef42:function(t,e,i){\"use strict\";i(\"f51a\")},f51a:function(t,e,i){},f77f:function(t,e,i){}}]);","extractedComments":[]}